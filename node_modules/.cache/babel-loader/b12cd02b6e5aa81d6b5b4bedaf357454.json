{"ast":null,"code":"var apiKey='64cd41892fdef05b98e839364f94a25b';var genresList=[];var TheMovieDB={getGenresList:function getGenresList(){return fetch(\"https://api.themoviedb.org/3/genre/movie/list?api_key=\".concat(apiKey)).then(function(response){if(response.ok){return response.json();}throw new Error('Request failed!');},function(networkError){console.log(networkError.message);}).then(function(jsonResponse){return jsonResponse.genres;});},search:function search(term){if(!genresList.length){this.getGenresList().then(function(genres){return genresList=genres;});console.log(genresList);}return fetch(\"https://api.themoviedb.org/3/search/movie?api_key=\".concat(apiKey,\"&query=\").concat(term)).then(function(response){if(response.ok){return response.json();}throw new Error('Request failed!');},function(networkError){console.log(networkError.message);}).then(function(jsonResponse){return jsonResponse.results.map(function(film){return{id:film.id,title:film.title,year:film.release_date?\"(\".concat(film.release_date.substr(0,4),\")\"):'',releaseDay:film.release_date,genres:film.genre_ids.map(function(id){return genresList.find(function(genre){return genre.id===id;}).name;}),imgSrc:'https://image.tmdb.org/t/p/w300'+film.poster_path,description:film.overview,rating:film.vote_average,video:film.video};});});},video:function video(id){return fetch(\"https://api.themoviedb.org/3/movie/\".concat(id,\"/videos?api_key=\").concat(apiKey)).then(function(response){if(response.ok){return response.json();}throw new Error('Request failed!');},function(networkError){console.log(networkError.message);}).then(function(jsonResponse){return jsonResponse.results[0].key;});}};export default TheMovieDB;","map":{"version":3,"sources":["/home/mrzero/Documents/Code/React_Projects/filmsearcher/src/util/TheMovieDB.js"],"names":["apiKey","genresList","TheMovieDB","getGenresList","fetch","then","response","ok","json","Error","networkError","console","log","message","jsonResponse","genres","search","term","length","results","map","film","id","title","year","release_date","substr","releaseDay","genre_ids","find","genre","name","imgSrc","poster_path","description","overview","rating","vote_average","video","key"],"mappings":"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","sourcesContent":["const apiKey = '64cd41892fdef05b98e839364f94a25b';\nvar genresList = [];\nconst TheMovieDB = {\n    getGenresList(){\n        return fetch(`https://api.themoviedb.org/3/genre/movie/list?api_key=${apiKey}`)\n                .then(response => {\n                    if(response.ok){\n                        return response.json();\n                    }\n                    throw new Error('Request failed!');\n                }, networkError => {\n                    console.log(networkError.message);\n                }).then(jsonResponse => {\n                    return jsonResponse.genres;\n                })\n    },\n\n    search(term){\n        if(!genresList.length){\n            this.getGenresList().then(genres => genresList = genres);\n            console.log(genresList);\n        }\n        return fetch(`https://api.themoviedb.org/3/search/movie?api_key=${apiKey}&query=${term}`).then(response => {\n            if(response.ok){\n                return response.json();\n            }\n            throw new Error('Request failed!');\n        }, networkError => {\n            console.log(networkError.message);\n        }).then(jsonResponse => {\n            return jsonResponse.results.map(film => {\n                    return{\n                        id          : film.id,\n                        title       : film.title,\n                        year        : film.release_date? `(${film.release_date.substr(0,4)})`: '',\n                        releaseDay  : film.release_date,\n                        genres      : film.genre_ids.map(id => genresList.find(genre => genre.id === id).name),\n                        imgSrc      : 'https://image.tmdb.org/t/p/w300' + film.poster_path,\n                        description : film.overview,\n                        rating      : film.vote_average,\n                        video       : film.video\n                    };\n            });\n        })\n    },\n\n    video(id){\n        return fetch(`https://api.themoviedb.org/3/movie/${id}/videos?api_key=${apiKey}`)\n                .then(response => {\n                    if(response.ok){\n                        return response.json();\n                    }\n                    throw new Error('Request failed!');\n                }, networkError => {\n                    console.log(networkError.message);\n                }).then(jsonResponse => {\n                    return jsonResponse.results[0].key;\n                })\n    }\n}\n\nexport default TheMovieDB;"]},"metadata":{},"sourceType":"module"}