{"ast":null,"code":"const apiKey = '64cd41892fdef05b98e839364f94a25b';\nconst TheMovieDB = {\n  getGenresList() {\n    return fetch(`https://api.themoviedb.org/3/genre/movie/list?api_key=${apiKey}`).then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n\n      throw new Error('Request failed!');\n    }, networkError => {\n      console.log(networkError.message);\n    }).then(jsonResponse => {\n      return jsonResponse.genres;\n    });\n  },\n\n  search(term) {\n    var genresList = this.getGenresList();\n    return fetch(`https://api.themoviedb.org/3/search/movie?api_key=${apiKey}&query=${term}`).then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n\n      throw new Error('Request failed!');\n    }, networkError => {\n      console.log(networkError.message);\n    }).then(jsonResponse => {\n      return jsonResponse.results.map(film => {\n        return {\n          id: film.id,\n          title: film.title,\n          year: film.release_date.substr(0, 4),\n          releaseDay: film.release_date,\n          genres: genresList[parseInt(film.genre_ids[0])].name,\n          imgSrc: 'https://image.tmdb.org/t/p/w300' + film.poster_path,\n          description: film.overview,\n          rating: film.vote_average,\n          video: film.video\n        };\n      });\n    });\n  }\n\n};\nexport default TheMovieDB;","map":{"version":3,"sources":["/home/mrzero/Documents/Code/React_Projects/filmsearcher/src/util/TheMovieDB.js"],"names":["apiKey","TheMovieDB","getGenresList","fetch","then","response","ok","json","Error","networkError","console","log","message","jsonResponse","genres","search","term","genresList","results","map","film","id","title","year","release_date","substr","releaseDay","parseInt","genre_ids","name","imgSrc","poster_path","description","overview","rating","vote_average","video"],"mappings":"AAAA,MAAMA,MAAM,GAAG,kCAAf;AAEA,MAAMC,UAAU,GAAG;AACfC,EAAAA,aAAa,GAAE;AACX,WAAOC,KAAK,CAAE,yDAAwDH,MAAO,EAAjE,CAAL,CACEI,IADF,CACOC,QAAQ,IAAI;AACd,UAAGA,QAAQ,CAACC,EAAZ,EAAe;AACX,eAAOD,QAAQ,CAACE,IAAT,EAAP;AACH;;AACD,YAAM,IAAIC,KAAJ,CAAU,iBAAV,CAAN;AACH,KANF,EAMIC,YAAY,IAAI;AACfC,MAAAA,OAAO,CAACC,GAAR,CAAYF,YAAY,CAACG,OAAzB;AACH,KARF,EAQIR,IARJ,CAQSS,YAAY,IAAI;AACpB,aAAOA,YAAY,CAACC,MAApB;AACH,KAVF,CAAP;AAWH,GAbc;;AAefC,EAAAA,MAAM,CAACC,IAAD,EAAM;AACR,QAAIC,UAAU,GAAG,KAAKf,aAAL,EAAjB;AACA,WAAOC,KAAK,CAAE,qDAAoDH,MAAO,UAASgB,IAAK,EAA3E,CAAL,CAAmFZ,IAAnF,CAAwFC,QAAQ,IAAI;AACvG,UAAGA,QAAQ,CAACC,EAAZ,EAAe;AACX,eAAOD,QAAQ,CAACE,IAAT,EAAP;AACH;;AACD,YAAM,IAAIC,KAAJ,CAAU,iBAAV,CAAN;AACH,KALM,EAKJC,YAAY,IAAI;AACfC,MAAAA,OAAO,CAACC,GAAR,CAAYF,YAAY,CAACG,OAAzB;AACH,KAPM,EAOJR,IAPI,CAOCS,YAAY,IAAI;AACpB,aAAOA,YAAY,CAACK,OAAb,CAAqBC,GAArB,CAAyBC,IAAI,IAAI;AAChC,eAAM;AACFC,UAAAA,EAAE,EAAYD,IAAI,CAACC,EADjB;AAEFC,UAAAA,KAAK,EAASF,IAAI,CAACE,KAFjB;AAGFC,UAAAA,IAAI,EAAUH,IAAI,CAACI,YAAL,CAAkBC,MAAlB,CAAyB,CAAzB,EAA2B,CAA3B,CAHZ;AAIFC,UAAAA,UAAU,EAAIN,IAAI,CAACI,YAJjB;AAKFV,UAAAA,MAAM,EAAQG,UAAU,CAACU,QAAQ,CAACP,IAAI,CAACQ,SAAL,CAAe,CAAf,CAAD,CAAT,CAAV,CAAwCC,IALpD;AAMFC,UAAAA,MAAM,EAAQ,oCAAoCV,IAAI,CAACW,WANrD;AAOFC,UAAAA,WAAW,EAAGZ,IAAI,CAACa,QAPjB;AAQFC,UAAAA,MAAM,EAAQd,IAAI,CAACe,YARjB;AASFC,UAAAA,KAAK,EAAShB,IAAI,CAACgB;AATjB,SAAN;AAWP,OAZM,CAAP;AAaH,KArBM,CAAP;AAsBH;;AAvCc,CAAnB;AA0CA,eAAenC,UAAf","sourcesContent":["const apiKey = '64cd41892fdef05b98e839364f94a25b';\n\nconst TheMovieDB = {\n    getGenresList(){\n        return fetch(`https://api.themoviedb.org/3/genre/movie/list?api_key=${apiKey}`)\n                .then(response => {\n                    if(response.ok){\n                        return response.json();\n                    }\n                    throw new Error('Request failed!');\n                }, networkError => {\n                    console.log(networkError.message);\n                }).then(jsonResponse => {\n                    return jsonResponse.genres;\n                })\n    },\n\n    search(term){\n        var genresList = this.getGenresList();\n        return fetch(`https://api.themoviedb.org/3/search/movie?api_key=${apiKey}&query=${term}`).then(response => {\n            if(response.ok){\n                return response.json();\n            }\n            throw new Error('Request failed!');\n        }, networkError => {\n            console.log(networkError.message);\n        }).then(jsonResponse => {\n            return jsonResponse.results.map(film => {\n                    return{\n                        id          : film.id,\n                        title       : film.title,\n                        year        : film.release_date.substr(0,4),\n                        releaseDay  : film.release_date,\n                        genres      : genresList[parseInt(film.genre_ids[0])].name,\n                        imgSrc      : 'https://image.tmdb.org/t/p/w300' + film.poster_path,\n                        description : film.overview,\n                        rating      : film.vote_average,\n                        video       : film.video\n                    };\n            });\n        })\n    }\n}\n\nexport default TheMovieDB;"]},"metadata":{},"sourceType":"module"}